---
# Astrowind
title: 'たった５分でスマホ表示を速くして！シンプルでかんたんなLightFileなら、それできちゃいます。画像が軽くなれば表示は速くなる！'
excerpt: '「スマホ表示が遅いんだよなぁ...」 「どうやればもっと表示が速くなるんだろう....'
updateDate: 2018-03-16
publishedDate: 2018-02-09
tags: 
  - web-imaging

  - lightfile

  - performance

author: nose
image: https://blog.ideamans.com/assets/2018-02-09-5minutes-fast-display-ogp.jpg
category: performance

# カスタム
updatedAt: 2018-03-16 16:49:16
publishedAt: 2018-02-09 12:00:00
categories: 
  - web-imaging

  - lightfile

  - performance

categoryLabels: 
  - Web画像最適化

  - 画像軽量化AI LightFile

  - 表示高速化

authorId: nose
subTheme: 
recommended: false
---

<p>「スマホ表示が遅いんだよなぁ...」</p>
<p>「どうやればもっと表示が速くなるんだろう...」</p>
<p><strong>それ、<a href="https://core.lightfile.net/" target="_blank">LightFile</a>なら５分でできます。しかも、導入後もずっと自動で処理しちゃいます。</strong></p>
<p> </p>
<h2>2018年は、スマホ表示高速化がトレンドになりそう</h2>
<p>2017年にとある2つのサイトが、表示の高速化の実施とそれに伴う手法の公開が行われました。これにより、2018年は、表示の高速化が他のサイトでも行われなることになります。</p>
<ol><li>実際に効果が出ているサイトがある。</li><li>実装方法が公開されている（全てではない）。</li></ol>
<p>特に「<strong>実装方法が公開されている</strong>」ので、手探りでやることもありません。やる！と決めれば進む状況になります。</p>
<p style="text-align: center;"><img alt="2018-02-09-5minutes-fast-display01.jpg" src="https://blog.ideamans.com/assets/2018-02-09-5minutes-fast-display01.jpg" width="1200" height="628" class="mt-image-center" style="text-align: center; display: block; margin: 0 auto 20px;"><span style="color: #888888;">計測ツールで有名なPagespeed Insight</span></p>
<p> </p>
<h2>LightFileのオンプレ版なら、わずか３ステップ！</h2>
<p>LightFileには、AWS Lumbda版と、オンプレサーバ版があります。オンプレ版は、専用サーバやVPSで動作しますし、要件があえばレンタルサーバでも動作します。<strong>設置はわずか３ステップで完了</strong>します。</p>
<ol><li>LightFileの実行ファイルをサーバにアップロードする</li><li>実行権限を付与する</li><li>cronに定期タスクとして登録する</li></ol>
<p>これだけで、あとは定期タスク実行時に処理が走ります。LightFileは、<strong>平均で20〜30％ほどJPG画像を軽量化</strong>します。しかも、<strong>画質の劣化はほとんどありません</strong>。Photoshopなどの画像処理したJPGではなく、スマホやデジカメで撮影してリサイズした写真であれば、<strong>80%以上も軽くなる</strong>ケースがあります。</p>
<div class="serviceBox">
<div class="serviceImage"><a href="https://core.lightfile.net/" target="_blank"><img src="https://blog.ideamans.com/assets/service-lfc.jpg" alt="JPGの最適化は、LightFile Core | 画像の最適化でページ表示を高速に！"></a></div>
<div class="serviceText">
<p class="serviceTitle"><a href="https://core.lightfile.net/" target="_blank">JPGの最適化は、LightFile Core | 画像の最適化でページ表示を高速に！</a></p>
<p class="serviceDesc">自動でJPEGファイルを容量削減し、表示の高速化/転送量の削減を実現します。</p>
<p class="serviceLink"><a href="https://core.lightfile.net/" target="_blank">https://core.lightfile.net/</a></p>
</div>
</div>
<p> </p>
<h2>2018年11月、日経電子版とdev.toの高速化が話題に</h2>
<p>このブログでもそれぞれ紹介させていただきましたこの２サイト。日経電子版は、解説のスライドやサイトも検索すると出てきます。なにより日本語なのですごくわかりやすいです。</p>
<blockquote class="twitter-tweet" data-lang="ja">
<p lang="ja" dir="ltr"><a href="https://twitter.com/hashtag/%E6%97%A5%E7%B5%8C%E9%9B%BB%E5%AD%90%E7%89%88?src=hash&amp;ref_src=twsrc%5Etfw">#日経電子版</a> が爆速！というツイートをよく見かけたので、<a href="https://twitter.com/hashtag/WebP?src=hash&amp;ref_src=twsrc%5Etfw">#WebP</a> がLightFile Coreと比べてどのくらい軽くなるのか検証してみました。ウェッピーというかわいい呼び方のWebPですが、その実力がハンパなかった...。<a href="https://t.co/MnyN137JBN">https://t.co/MnyN137JBN</a></p>
-- アイデアマンズ (@ideamans) <a href="https://twitter.com/ideamans/status/932765790906003458?ref_src=twsrc%5Etfw">2017年11月21日</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8" type="text/javascript"></script>
<p>dev.toは海外のサイトですが、驚異的な表示速度を誇っています。そして驚かされるのは、ログインしていても表示が爆速であること。ECやメンバーズなどの会員サイトを運営している方は、ぜひ会員登録してその速度を体感してください。ハンパじゃないです。ちなみに、dev.toはエンジニアの情報共有サイトです。日本でいうところのQiitaのような感じ。</p>
<blockquote class="twitter-tweet" data-lang="ja">
<p lang="ja" dir="ltr"><a href="https://twitter.com/hashtag/%E6%97%A5%E7%B5%8C%E9%9B%BB%E5%AD%90%E6%9D%BF?src=hash&amp;ref_src=twsrc%5Etfw">#日経電子板</a> や、<a href="https://twitter.com/hashtag/devto?src=hash&amp;ref_src=twsrc%5Etfw">#devto</a>(<a href="https://t.co/uIaKmORw99">https://t.co/uIaKmORw99</a>) のように、サイトの表示高速は2018年のトレンドの1つです。表示高速化でまずやらなければならないのが <a href="https://twitter.com/hashtag/%E7%94%BB%E5%83%8F%E6%9C%80%E9%81%A9%E5%8C%96?src=hash&amp;ref_src=twsrc%5Etfw">#画像最適化</a>。<a href="https://t.co/uIaKmORw99">https://t.co/uIaKmORw99</a>ではどうやっているのか調べてみました。<a href="https://t.co/ZXvKEL9coC">https://t.co/ZXvKEL9coC</a></p>
-- アイデアマンズ (@ideamans) <a href="https://twitter.com/ideamans/status/960679269579018246?ref_src=twsrc%5Etfw">2018年2月6日</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8" type="text/javascript"></script>
<p> </p>
<h2>画像最適化は、Pagespeed Insightでは計測されない</h2>
<p>計測ツールとして有名な<a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank">Google Pagespeed Insight</a>は、画像の表示サイズと実際の画像サイズが合っているかどうかをチェックしてくれます。しかし、<strong>その画像が最適化され、適切なファイルサイズになっているかどうかは計測しません</strong>。これは人工知能などを通せば計測できるかもしれませんが、その画像の品質の判断をできないからではないかと思われます。</p>
<p><a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank">Pagespeed Insight</a>で計測されるのは、以下の項目です。このブログのトップページを、試しに計測してみました。</p>
<p style="text-align: center;"><img alt="2018-02-09-5minutes-fast-display02.jpg" src="https://blog.ideamans.com/assets/2018-02-09-5minutes-fast-display02.jpg" width="872" height="218" class="mt-image-center" style="text-align: center; display: block; margin: 0 auto 20px;"><span style="color: #888888;">左がモバイル表示／右がPC表示の計測結果。モバイルはかなり高得点。</span></p>
<p style="text-align: center;"></p>
<h4>最適化についての提案</h4>
<ol><li>スクロールせずに見えるコンテンツのレンダリングをブロックしている JavaScript/CSS を排除する</li><li>ブラウザのキャッシュを活用する</li></ol>
<h4>適用済みの最適化</h4>
<ol><li>CSS を縮小する</li><li>HTML を縮小する</li><li>JavaScript を縮小する</li><li>サーバーの応答時間を短縮する</li><li>リンク先ページのリダイレクトを使用しない</li><li>圧縮を有効にする</li><li>画像を最適化する</li><li>表示可能コンテンツの優先順位を決定する</li></ol>
<p>２つの改善提案と、8つの改善クリアが計測結果として表示されました。<strong>この「適用済みの最適化」にある「画像を最適化する」という項目は、あくまで表示サイズに対する画像のサイズを計測</strong>しています。</p>
<p>Pagespeed Insightで高得点をマークしているサイトでも、実はまだ画像最適化でさらに表示速度が速くなる可能性があるのです。</p>
<p> </p>
<h2>スマホ表示高速化対応で優先度が高いもの</h2>
<p>スマホ表示高速化において、やるべきことは多くあります。しかし、全てやらないといけないかというとそんなことはないです。予算や時間、リソースの兼ね合いを見ながら、優先度の高いもの（費用対効果が高いもの）から進めましょう。</p>
<ul><li>CDNを利用する</li><li>画像最適化を行う</li><li>Webアプリケーションのボトルネックを改善する（スロークエリ含む）</li><li>インフラ周りを見直す</li><li>外部サービスの広告用JSを精査する</li></ul>
<p>個人的に優先度が高いと考えているものをリストアップしました。CDNや画像最適化は定期費用が発生しますが、上述の2サイトでも実施しています。キャッシュしてよいサイトであれば、この2つを行うだけで体感できるほどの速度改善が見込めます。</p>
<p>会員サイトなどのWebアプリケーションがある場合は、切り分けが必要です。プログラムの処理の問題なのか、DBへのクエリの量や投げ方の問題なのか、技術的な話になってきます。情報システム部の方や、SIerさん、Webエンジニアの方に相談してみてください。</p>
<p>外部サービス広告のJSは読み込みが遅いのですが、実際のコンテンツの表示は邪魔しません（並列で処理される）。読み込み完了は遅くなるので、どこかで整理するとよいです。</p>
<p> </p>
<h2>最後に</h2>
<p>スマホの高速表示は、やることは明確です。ですが、実際にやろうとすると、やることも多く、また技術的な話ばかりなので、エンジニアではない人からするとチンプンカンプンな人がほとんどではないでしょうか。</p>
<p>まずは、効果が高いものを優先度をつけて対応していくのがベストです。</p>
<p> </p>
